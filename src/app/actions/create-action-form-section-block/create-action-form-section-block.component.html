<div class="block">
  <form [formGroup]="parent" class="block">
    <mat-form-field appearance="outline">
      <mat-label>Block Parameters*</mat-label>
      <mat-select
        formControlName="blockParameters"
        placeholder="Parameter to block on"
        ngDefaultControl
        multiple
      >
        <mat-option *ngFor="let item of blockItems" [value]="item">
          {{ item }}
        </mat-option>
      </mat-select>
      <mat-hint align="end"> *Required </mat-hint>
      <mat-error *ngIf="parent.get('blockParameters').hasError('required')">
        {{ validationMessages['blockParameters']['required'] }}
      </mat-error>
    </mat-form-field>

    <mat-slide-toggle class="permanently" formControlName="permanently">
      Block Permanently
    </mat-slide-toggle>

    <div *ngIf="!parent.get('permanently').value">
      <div class="block-values">
        <mat-form-field appearance="outline" class="block-values-input">
          <mat-label>Block Duration</mat-label>
          <input
            matInput
            placeholder="Block Duration"
            formControlName="blockTime"
          />
        </mat-form-field>
        <mat-button-toggle-group
          #group="matButtonToggleGroup"
          formControlName="blockTimeUnit"
        >
          <mat-button-toggle
            *ngFor="let unit of units['duration']"
            value="{{ unit }}"
          >
            <span class="unit">{{ unit }}</span>
          </mat-button-toggle>
        </mat-button-toggle-group>
      </div>

      <div class="block-values">
        <mat-form-field appearance="outline" class="block-values-input">
          <mat-label>Block Delay</mat-label>
          <input
            matInput
            placeholder="Block Delay"
            formControlName="blockDelay"
          />
        </mat-form-field>
        <mat-button-toggle-group
          #group="matButtonToggleGroup"
          formControlName="blockDelayUnit"
        >
          <mat-button-toggle
            *ngFor="let unit of units['delay']"
            value="{{ unit }}"
          >
            <span class="unit">{{ unit }}</span>
          </mat-button-toggle>
        </mat-button-toggle-group>
      </div>
    </div>
  </form>
</div>
