<div class="block">
  <form [formGroup]="parent" class="block">
    <mat-form-field appearance="outline">
      <mat-label>Block Item*</mat-label>
      <mat-select
        placeholder="Item to block on"
        formControlName="item"
        ngDefaultControl
      >
        <mat-option *ngFor="let item of blockItems" [value]="item">
          {{ item }}
        </mat-option>
      </mat-select>
      <mat-hint align="end"> *Required </mat-hint>
      <mat-error *ngIf="parent.get('item').hasError('required')">
        {{ validationMessages['item']['required'] }}
      </mat-error>
    </mat-form-field>

    <mat-slide-toggle class="permanently" formControlName="permanently">
      Block Permanently
    </mat-slide-toggle>

    <div *ngIf="!parent.get('permanently').value">
      <div class="block-values">
        <mat-form-field appearance="outline" class="block-values-input">
          <mat-label>Block Duration</mat-label>
          <input
            matInput
            placeholder="Block Duration"
            formControlName="durationValue"
          />
        </mat-form-field>
        <mat-button-toggle-group
          #group="matButtonToggleGroup"
          formControlName="durationUnit"
        >
          <mat-button-toggle value="minutes">
            <span class="unit">minutes</span>
          </mat-button-toggle>
          <mat-button-toggle value="hours">
            <span class="unit">hours</span>
          </mat-button-toggle>
          <mat-button-toggle value="days">
            <span class="unit">days</span>
          </mat-button-toggle>
        </mat-button-toggle-group>
      </div>

      <div class="block-values">
        <mat-form-field appearance="outline" class="block-values-input">
          <mat-label>Block Delay</mat-label>
          <input
            matInput
            placeholder="Block Delay"
            formControlName="delayValue"
          />
        </mat-form-field>
        <mat-button-toggle-group
          #group="matButtonToggleGroup"
          formControlName="delayUnit"
        >
          <mat-button-toggle value="seconds">
            <span class="unit">seconds</span>
          </mat-button-toggle>
          <mat-button-toggle value="minutes">
            <span class="unit">minutes</span>
          </mat-button-toggle>
          <mat-button-toggle value="hours">
            <span class="unit">hours</span>
          </mat-button-toggle>
        </mat-button-toggle-group>
      </div>
    </div>
  </form>
</div>
