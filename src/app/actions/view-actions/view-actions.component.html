<hydro-page-wide>
  <hydro-headline>Actions</hydro-headline>

  <div class="toolbar">
    <mat-form-field class="filter">
      <mat-label>Filter Action Types</mat-label>
      <mat-select
        [(value)]="selectedActionType"
        (selectionChange)="filterActions()"
      >
        <mat-option>All Action Types</mat-option>
        <mat-option value="block">Block</mat-option>
        <mat-option value="emailAlert">Email Alert</mat-option>
        <mat-option value="emailRate">Email Rate</mat-option>
        <mat-option value="emailBatch">Email Batch</mat-option>
      </mat-select>
    </mat-form-field>

    <hydro-search-input
      [(searchTerm)]="searchTerm"
      [placeHolder]="'Search Actions'"
      (searchTermChange)="filterActions()"
      class="search"
    ></hydro-search-input>

    <hydro-button-raised
      *ngIf="allowsEdit"
      (click)="router.navigateByUrl('/actions/add')"
      color="accent"
    >
      Add New Action
    </hydro-button-raised>
  </div>

  <hydro-list>
    <cdk-virtual-scroll-viewport itemSize="72" class="scroll-viewport">
      <ng-container *cdkVirtualFor="let action of filteredActions">
        <hydro-list-item>
          <hydro-view-actions-list-item
            class="action-list-item"
            [action]="action"
            [allowsEdit]="allowsEdit"
            (archiveAction)="onArchiveAction($event)"
          ></hydro-view-actions-list-item>
        </hydro-list-item>
      </ng-container>
    </cdk-virtual-scroll-viewport>
  </hydro-list>
</hydro-page-wide>
