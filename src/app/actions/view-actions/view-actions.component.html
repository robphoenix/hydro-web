<div class="ma5 pa4">
  <div class="mb4">
    <app-heading>Actions</app-heading>
  </div>
  <div class="flex items-center w-100 mb4">
    <mat-button-toggle-group
      [value]="group"
      (change)="filterActions($event.value)"
    >
      <mat-button-toggle value="block">
        <mat-icon [ngClass]="icons['block'].colour" matTooltip="Block">
          {{ icons['block'].icon }}
        </mat-icon>
      </mat-button-toggle>
      <mat-button-toggle value="email">
        <mat-icon [ngClass]="icons['email'].colour" matTooltip="Email">
          {{ icons['email'].icon }}
        </mat-icon>
      </mat-button-toggle>
      <mat-button-toggle value="store">
        <mat-icon [ngClass]="icons['store'].colour" matTooltip="Store">
          {{ icons['store'].icon }}
        </mat-icon>
      </mat-button-toggle>
      <mat-button-toggle value="all">
        <mat-icon [ngClass]="icons['actions'].colour" matTooltip="All Actions">
          {{ icons['actions'].icon }}
        </mat-icon>
      </mat-button-toggle>
    </mat-button-toggle-group>

    <app-search-input
      [(searchTerm)]="searchTerm"
      [placeHolder]="'Search Actions'"
      (searchTermChange)="filterActions()"
      class="w-40 ml-auto"
    ></app-search-input>

    <app-accent-button
      mat-flat-button
      (click)="router.navigateByUrl('/actions/add')"
      [icon]="'add'"
      class="ml4"
    >
      New Action
    </app-accent-button>
  </div>

  <mat-list class="bg-white shadow-4 bt bw1 b--primary ">
    <cdk-virtual-scroll-viewport itemSize="72" class="h7">
      <ng-container *cdkVirtualFor="let action of filteredActions">
        <mat-list-item class="flex items-center mv2 mh4">
          <mat-icon
            [ngClass]="icons[action.group].colour"
            matTooltip="All Actions"
            class="mr4"
          >
            {{ icons[action.group].icon }}
          </mat-icon>
          <div>
            <h1 matLine class="f5 fw5 lh-title">
              {{ action.name }}
            </h1>
            <p matLine class="f6 fw4 lh-copy silver">
              {{ action.description }}
            </p>
          </div>
        </mat-list-item>
      </ng-container>
    </cdk-virtual-scroll-viewport>
  </mat-list>
</div>
