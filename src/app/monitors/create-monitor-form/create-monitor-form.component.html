<form [formGroup]="createMonitorForm" (ngSubmit)="submit()" class="form">
  <hydro-create-monitor-name
    class="form-field"
    [parent]="createMonitorForm"
    [maxCharLength]="nameMaxCharLength"
    [canEditName]="!isEditForm"
    ngDefaultControl
  >
  </hydro-create-monitor-name>

  <hydro-create-monitor-form-description
    class="form-field"
    [parent]="createMonitorForm"
    [validationMessages]="validationMessages['description']"
    [placeholder]="placeholders.description"
    ngDefaultControl
  >
  </hydro-create-monitor-form-description>

  <hydro-create-monitor-form-status
    *ngIf="allowsEnable"
    [parent]="createMonitorForm"
    class="form-field"
  >
  </hydro-create-monitor-form-status>

  <hydro-create-monitor-form-type
    *ngIf="isAdmin"
    [parent]="createMonitorForm"
    class="form-field"
  >
  </hydro-create-monitor-form-type>

  <hydro-create-monitor-form-priority
    class="form-field"
    [parent]="createMonitorForm"
  ></hydro-create-monitor-form-priority>

  <hydro-create-monitor-form-query
    class="form-field"
    [parent]="createMonitorForm"
    [validationMessages]="validationMessages['query']"
    [placeholder]="placeholders.query"
  ></hydro-create-monitor-form-query>

  <hydro-create-monitor-form-cache-window
    class="form-field"
    [parent]="createMonitorForm"
  ></hydro-create-monitor-form-cache-window>

  <div class="form-field">
    <hydro-create-monitor-categories-select
      [parent]="createMonitorForm"
      [loading]="loadingCategories"
      [selectedCategories]="selectedCategories"
      [filteredCategories]="filteredCategories"
      [maxSelectedCategories]="maxSelectedCategories"
      [placeholder]="placeholders.categories"
      [autocompleteOptions]="autocompleteOptions"
      (removeCategory)="removeCategory($event)"
      (selectedCategory)="selectedCategory($event)"
    >
    </hydro-create-monitor-categories-select>

    <hydro-create-monitor-category-add
      [currentCategories]="availableCategories"
      (submitCategories)="onSubmitCategories($event)"
    ></hydro-create-monitor-category-add>
  </div>

  <hydro-create-monitor-form-groups
    class="form-field"
    [parent]="createMonitorForm"
    [loading]="loadingGroups"
    [selectedGroups]="selectedGroups"
    [autocompleteOptions]="autocompleteOptions"
    [filteredGroups]="filteredGroups"
    [placeholder]="placeholders.groups"
    [validationMessages]="validationMessages['groups']"
    (removeGroup)="removeGroup($event)"
    (selectedGroup)="selectedGroup($event)"
  >
  </hydro-create-monitor-form-groups>

  <hydro-create-monitor-form-actions
    class="form-field"
    [parent]="createMonitorForm"
    [loading]="loadingActions"
    [selectedActions]="selectedActions"
    [autocompleteOptions]="autocompleteOptions"
    [filteredActions]="filteredActions"
    [placeholder]="placeholders.actions"
    [validationMessages]="validationMessages['actions']"
    (removeAction)="removeAction($event)"
    (selectedAction)="selectedAction($event)"
  >
  </hydro-create-monitor-form-actions>

  <div class="buttons">
    <button
      mat-raised-button
      [disabled]="!createMonitorForm.valid"
      color="primary"
      type="submit"
    >
      Save Monitor
    </button>
    <button
      mat-raised-button
      color="primary"
      class="middle-button"
      (click)="submit(true)"
      [disabled]="!canViewMonitor"
      type="button"
    >
      Save Monitor and View
    </button>
    <button mat-raised-button color="warn" (click)="cancel()" type="button">
      Cancel
    </button>
  </div>
</form>
