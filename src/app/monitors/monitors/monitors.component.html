<article>
  <div class="toolbar">
    <div class="title">
      <mat-icon class="yellow">flash_on</mat-icon>
      <h4>{{ title }}</h4>
    </div>

    <span class="divider"></span>

    <div class="filters">
      <app-search-input
        class="filter"
        [placeHolder]="'Search Monitors'"
        (searchTermChange)="searchTerm = $event; filterMonitors()"
      ></app-search-input>

      <app-multiple-select
        class="filter"
        name="actionSelect"
        ngDefaultControl
        #actionSelect
        [formControl]="actions"
        [placeHolder]="'Filter Actions'"
        [options]="actionsList"
        (selectedOptionsChange)="selectedActions = $event; filterMonitors()"
      >
        <mat-icon class="orange">security</mat-icon>
      </app-multiple-select>

      <app-multiple-select
        class="filter"
        name="categorySelect"
        ngDefaultControl
        #categorySelect
        [formControl]="categories"
        [placeHolder]="'Filter Categories'"
        [options]="categoriesList"
        (selectedOptionsChange)="selectedCategories = $event; filterMonitors()"
      >
        <mat-icon class="green">category</mat-icon>
      </app-multiple-select>

      <app-multiple-select
        class="filter"
        name="groupSelect"
        ngDefaultControl
        #groupSelect
        [formControl]="groups"
        [placeHolder]="'Filter Groups'"
        [options]="groupsList"
        (selectedOptionsChange)="selectedGroups = $event; filterMonitors()"
      >
        <mat-icon class="blue">group</mat-icon>
      </app-multiple-select>

      <div class="clear-filters">
        <button mat-stroked-button color="accent" (click)="clearFilters()">
          Clear Filters
        </button>
      </div>
    </div>
  </div>

  <mat-list *ngIf="currentMonitors.length; else: noMonitors">
    <div *ngFor="let monitor of currentMonitors; last as last">
      <app-monitors-list-item [monitor]="monitor"></app-monitors-list-item>
      <mat-divider *ngIf="!last"></mat-divider>
    </div>
  </mat-list>
  <ng-template #noMonitors class="no-monitors">
    <div class="no-monitors"><h4>no available monitors</h4></div>
  </ng-template>
</article>
